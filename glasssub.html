<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Loop | Submit Glass</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:"Segoe UI", Arial, sans-serif; }
body { background:#f9f9f9; color:#222; }

/* Navbar */
.navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 16px; /* reduced padding */
  background: #fff;
  border-bottom: 2px solid #5de116;
  position: sticky;
  top: 0;
  z-index: 1000;
}

.logo-section {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: bold;
  font-size: 18px;
}

.logo {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background-image: url("https://png.pngtree.com/png-clipart/20240306/original/pngtree-infinity-symbol-black-png-png-image_14520365.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.nav-links {
  display: flex;
  gap: 10px;
  flex-wrap: nowrap; /* prevents wrapping */
}

.nav-links a {
  text-decoration: none;
  color: #1a1acd;
  border: 1px solid #1a1acd;
  padding: 5px 10px;
  border-radius: 25px;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.3s ease;
  white-space: nowrap;
}

.nav-links a:hover {
  background: #f01111;
  color: #fff;
  border-color: #f01111;
  transform: translateY(-2px);
}

/* Mobile */
@media(max-width: 600px){
  .navbar { flex-direction: column; align-items: flex-start; padding: 8px; }
  .nav-links { width: 100%; justify-content: space-around; flex-wrap: wrap; margin-top: 4px; }
  .nav-links a { padding: 6px; flex: 1 1 auto; text-align: center; }
}

/* Hero */
.hero { background:linear-gradient(to right, #5de116, #1a1acd); color:white; text-align:center; padding:50px 20px; border-radius:6px; margin:18px 0; border-bottom:2px solid #5de116; }
.hero h1 { font-size:32px; margin-bottom:15px; }
.hero p { font-size:16px; max-width:700px; margin:auto; }
.info { padding:10px; border-radius:8px; background:#f3f3f3; color:#444; margin-top:12px }

.card { max-width:700px; background:#fff; padding:25px; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.08); margin:20px auto; }
.step { display:flex; align-items:center; gap:10px; margin-bottom:15px; font-size:14px; }
.step span { width:24px; height:24px; border-radius:50%; background:#ccc; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:bold; }
.step.active span { background:#1a1acd; }
.step.active + .step { color:#1a1acd; }

h2,h3 { color:#1a1acd; margin-bottom:12px; }
form { display:flex; flex-direction:column; gap:12px; }
label { font-size:13px; color:#555; }
input, select, textarea { width:100%; padding:12px; border-radius:8px; border:1px solid #ccc; font-size:15px; color:#222; }
textarea { min-height:90px; resize:vertical; }

.row { display:flex; gap:10px }
.row .col{ flex:1 }

.btn{ padding:10px 16px; border-radius:8px; font-weight:700; cursor:pointer; border:none }
.btn-primary{ background:#1a1acd; color:#fff }
.btn-primary:hover{ background:#f01111 }
.btn-ghost{ background:transparent; border:1px solid #1a1acd; color:#1a1acd }

.cash { color:#5de116; font-weight:800 }
footer{ margin-top:26px; text-align:center; color:#555; padding:12px 0 }

/* Responsive */
@media(max-width:860px){ .row{ flex-direction:column } }
@media(max-width:480px){ .hero{ padding:30px 15px } .hero h1{ font-size:24px } .hero p{ font-size:14px } }
</style>
</head>
<body>

<!-- Navbar -->
<div class="navbar">
  <div class="logo-section">
    <div class="logo"></div>
    <span>The Loop</span>
  </div>
  <div class="nav-links">
    <a href="index.html">Home</a>
    <a href="services.html">Services</a>
    <a href="glasssub.html">Glass Submission</a>
    <a href="feedback.html">Feedback</a>
  </div>
</div>

<!-- Hero -->
<div class="hero">
  <h1>Submit Broken Glass for Cash</h1>
  <p>Enter your details to calculate cash. After checking the amount, provide pickup info and select items.</p>
  <div class="info">Rate: <strong class="cash">₹10 / kg</strong> — Transparent process, safe handling.</div>
</div>

<!-- Step indicator -->
<div class="card">
  <div class="step active"><span>1</span> Quick Submission</div>
  <div class="step"><span>2</span> Pickup Details</div>
  <div class="step"><span>3</span> Confirmation</div>
</div>

<!-- Quick Submission Form -->
<div class="card">
  <h2>Quick Submission</h2>
  <form id="glassForm" autocomplete="on">
    <div class="row">
      <div class="col">
        <label for="name">Name</label>
        <input id="name" name="name" type="text" placeholder="Your name" required />
      </div>
      <div class="col">
        <label for="email">Email</label>
        <input id="email" name="email" type="email" placeholder="you@example.com" required />
      </div>
    </div>
    <div>
      <label for="weight">Weight (kg)</label>
      <input id="weight" name="weight" type="number" step="0.1" min="0" placeholder="e.g. 3.5" required />
      <div id="inlineError" class="info" style="display:none;color:red;margin-top:4px;"></div>
    </div>
    <div style="display:flex;gap:10px;align-items:center;justify-content:space-between;margin-top:6px">
      <button class="btn btn-primary" type="submit">Check Cash</button>
      <button id="openDetailedForm" class="btn btn-ghost" type="button" style="display:none">Provide Pickup Details</button>
    </div>
    <div id="cashMessage" class="info" style="display:none"></div>
  </form>

  <!-- Detailed Pickup Form -->
  <form id="detailedForm" style="display:none;margin-top:14px">
    <h3 style="margin:0 0 10px 0;color:#555;font-size:15px">Pickup Details</h3>
    <label for="phone">Phone</label>
    <input id="phone" name="phone" type="text" placeholder="Phone number" pattern="[6-9][0-9]{9}" title="Enter a valid 10-digit Indian number"/>
    <label for="address">Address</label>
    <input id="address" name="address" type="text" placeholder="Pickup address"/>
    <label>Glass Classification</label>
    <div style="display:flex;flex-wrap:wrap;gap:10px">
      <label><input type="checkbox" value="bottle" class="glassItem" /> Bottle</label>
      <label><input type="checkbox" value="window" class="glassItem" /> Window</label>
      <label><input type="checkbox" value="mirror" class="glassItem" /> Mirror</label>
      <label><input type="checkbox" value="other" class="glassItem" /> Other</label>
    </div>
    <label for="pickupDate">Preferred Pickup Date</label>
    <input type="date" id="pickupDate" name="pickupDate"/>
    <label for="notes">Notes</label>
    <textarea id="notes" name="notes" placeholder="Any special instructions (optional)"></textarea>
    <div style="display:flex;gap:10px;margin-top:8px">
      <button class="btn btn-primary" id="submitDetails" type="button">Submit Details</button>
      <button class="btn btn-ghost" id="cancelDetails" type="button">Cancel</button>
    </div>
  </form>
</div>

<footer>© <strong>The Loop</strong> — Glass Pickup & Recycling</footer>

<!-- JavaScript -->
<script>
// Grab elements
const glassForm = document.getElementById("glassForm");
const detailedForm = document.getElementById("detailedForm");
const cashMessage = document.getElementById("cashMessage");
const inlineError = document.getElementById("inlineError");
const openDetailedFormBtn = document.getElementById("openDetailedForm");
const cancelDetailsBtn = document.getElementById("cancelDetails");
const submitDetailsBtn = document.getElementById("submitDetails");

// Cash rate
const RATE = 10; // ₹10 per kg

// Handle Quick Submission
glassForm.addEventListener("submit", function (e) {
  e.preventDefault();
  const weight = parseFloat(document.getElementById("weight").value);

  if (isNaN(weight) || weight <= 0) {
    inlineError.style.display = "block";
    inlineError.innerText = "Please enter a valid weight (kg).";
    return;
  }

  inlineError.style.display = "none";
  const amount = weight * RATE;
  cashMessage.style.display = "block";
  cashMessage.innerHTML = `<strong>Estimated Cash: ₹${amount.toFixed(2)}</strong>`;

  // Show button for detailed form
  openDetailedFormBtn.style.display = "inline-block";
});

// Show Pickup Details form
openDetailedFormBtn.addEventListener("click", () => {
  detailedForm.style.display = "block";
  openDetailedFormBtn.style.display = "none";
});

// Cancel Pickup Details
cancelDetailsBtn.addEventListener("click", () => {
  detailedForm.style.display = "none";
  openDetailedFormBtn.style.display = "inline-block";
});

// Handle Final Submission
submitDetailsBtn.addEventListener("click", () => {
  const formData = {
    name: document.getElementById("name").value,
    email: document.getElementById("email").value,
    phone: document.getElementById("phone").value,
    address: document.getElementById("address").value,
    weight: document.getElementById("weight").value,
    glassItems: Array.from(document.querySelectorAll(".glassItem:checked")).map(i => i.value),
    pickupDate: document.getElementById("pickupDate").value,
    notes: document.getElementById("notes").value
  };

  console.log("Submitting to backend:", formData);
  alert("✅ Details submitted! We will contact you soon.");

  // Reset form
  glassForm.reset();
  detailedForm.reset();
  cashMessage.style.display = "none";
  detailedForm.style.display = "none";
  openDetailedFormBtn.style.display = "none";
});
</script>
</body>
</html>
